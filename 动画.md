# 动画

## requestAnimationFrame

- 屏幕刷新频率
  - 桌面右键-屏幕分辨率-高级设置-监视器 中查看
  - 一般笔记本为 60 Hz（16.7 ms 刷新一次）
- setTimeout
  - 通过设置间隔不断改变图像的位置
  - 但会出现卡顿、抖动
    - setTimeout 的执行时间并不是确定的，只有主线程任务执行完后才会检查任务队列，因此 setTimeout 的实际执行时间比一般设定的要晚一些
    - 刷新频率受 **屏幕分辨率** 和 **屏幕尺寸** 的影响，而setTimeout 只是设定固定的时间间隔，因此可能和屏幕刷新不一致而导致丢帧
- requestAnimationFrame
  - 在屏幕每次刷新的间隔中执行回调
  - CPU 节能
    - setTimeout 当页面最小化或隐藏时，依然在后台执行，浪费 CPU 资源
    - 而 rAF 在页面未激活时会被暂停（对于隐藏元素的更改也不会执行）
  - 函数节流
    - 对于高频事件（resize 等），可以使用 rAF 保证在每个刷新间隔内只执行一次

