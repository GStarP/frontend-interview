# 部署架构

## MVC，MVP，MVVM

- 这里网上各种说明差距很大，我按照自己的理解做了一些筛选
- MVC
  - 所有通信都是单向的（其实也未必）
  - 用户可以通过 View 接收指令传给 Controller 或者直接请求 Controller
  - Controller 只做路由，业务逻辑集中在 Model（业务模型）
- MVP
  - Model，Presenter，View
  - MP 和 PV 之间双向通信
  - View 要给 Presenter 提供改编视图的接口
  - View 不含任何业务逻辑，Presenter 有所有逻辑
- MVVM
  - 大致同 MVP（Presenter 改名 ViewModel）
  - 区别在于 V 和 VM 双向绑定

## CDN

- 简介
  - 由于用户访问源站资源有性能瓶颈，通过 CDN 技术把源站的内容缓存到多个节点
  - 用户向源站域名进行请求时，请求被调度至最接近用户的服务节点，降低访问延迟、提升可用性
- CNAME
  - 别名记录
  - 允许将多个名字映射到同一个域名
- 原理
  - 给源站域名添加 CNAME，指向各个加速节点的域名
  - 这样一来，用户请求源站，经过源站的 DNS 解析后得到最佳加速节点的 IP
  - 于是用户去请求这个加速节点，如果想要的内容有缓存，直接返回
  - 否则加速节点向上一级缓存服务器请求内容，直至源站